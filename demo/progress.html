<!doctype html>
<html>
<head>
	<title>d2l-progress</title>
	<script src="../../webcomponentsjs/webcomponents-lite.js"></script>
	<link rel="import" href="../../d2l-demo-template/d2l-demo-template.html">
	<link rel="import" href="../d2l-progress.html">
	<link rel="import" href="../test/acceptance/progress.css">
	<custom-style>
		<style is="custom-style">
			progress.d2l-progress {
				@apply --d2l-progress;
			}
			/* this is necessary to avoid white bleed over rounded corners in chrome and safari */
			progress.d2l-progress::-webkit-progress-bar {
				@apply --d2l-progress-webkit-progress-bar;
			}
			/* strangely, comma separating the selectors for these pseudo-elements causes them to break */
			progress.d2l-progress::-webkit-progress-value {
				@apply --d2l-progress-webkit-progress-value;
			}
			/* note: unable to get firefox to animate the width... seems animation is not implemented for progress in FF */
			progress.d2l-progress::-moz-progress-bar {
				@apply --d2l-progress-moz-progress-bar;
			}
			progress.d2l-progress::-ms-fill {
				@apply --d2l-progress-ms-fill;
			}
			/* these are necessary to avoid showing border when value is 0 */
			progress[value="0"].d2l-progress::-webkit-progress-value {
				@apply --d2l-progress-webkit-progress-value-no-progress;
			}
			progress[value="0"].d2l-progress::-moz-progress-bar {
				@apply --d2l-progress-moz-progress-bar-no-progress;
			}
		</style>
	</custom-style>
</head>
<body >

	<d2l-demo-template title="d2l-progress">

		<div id="config_buttons" slot="d2l-demo-actions">
			<label for="progressValue">Value (0 to 100):</label>
			<input id="progressValue" type="text" value="5" >
		</div>

		<div slot="d2l-demo-fixture">
			<progress id="progress" class="d2l-progress" value="5" max="100" role="progressbar" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100" ></progress>
		</div>

	</d2l-demo-template>

	<script>

		document.getElementById('progressValue').addEventListener('change', function(e) {
			document.getElementById('progress').setAttribute('value', e.target.value );
		});

	</script>

</body>
</html>
